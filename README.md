# Gvido

Гвидо - мой простой голосовой ассистент, написанный на Python, который может управлять ходящим роботом из Lego.
Назван он, как вы могли догадаться, в честь [создателя Python](https://ru.wikipedia.org/wiki/%D0%92%D0%B0%D0%BD_%D0%A0%D0%BE%D1%81%D1%81%D1%83%D0%BC,_%D0%93%D0%B2%D0%B8%D0%B4%D0%BE).

# Содержание

- [Запуск](#запуск)
  - [Windows](#windows)
    - [Зависимости](#зависимости)
    - [У меня другая версия](#у-меня-другая-версия)
    - [RHVoice](#rhvoice)
    - [Хочу использовать другой голос](#хочу-использовать-другой-голос)
    - [Микрофон](#микрофон)
    - [Погода](#погода)
    - [Старт на Windows](#старт-на-windows)
  - [Linux](#linux)
    - [Отличия от Windows-версии](#отличия-от-windows-версии)
    - [Другие элементы](#другие-элементы)
    - [Старт на Linux](#старт-на-linux)
  - [macOS](#macos)

# Запуск

Скачиваем код:

```
git clone https://github.com/coder8080/gvido
cd gvido
```

## Windows

Для начала вам нужны:

- Python 3
- Рабочий терминал
- Динамики
- Микрофон

### Зависимости

Далее вам нужно установить зависимости:

```
pip install -r requirements.txt
```

Теперь нужно установить PyAudio. На момени создания репозитория его было сложно собрать самому через PIP, поэтому в папке `installers` я оставил готовые сборки для 64 разрядной Windows для Python 3.8+.

Свою версию Python можно узнать с помощью команды:

```
python -V

```

#### У меня другая версия

Тогда вам нужно скачать сборку для вашей версии [отсюда](https://www.lfd.uci.edu/~gohlke/pythonlibs/#pyaudio) и переместить в папку проекта.

Далее устанавливаем готовую сборку командой:

```
pip install ./имя_файла_со_сборкой
```

_Напоминаю, что сборки для перечисленных версий лежат в папке `installers`._

### RHVoice

Теперь нужно установить RHVoice и голос для него. Устанавливаем как любые другие программы сначала `installers/rhvoice-setup`, потом `installers/rhvoice-alesandr-setup`.

#### Хочу использовать другой голос

Сначала вам нужно скачать его [отсюда](https://rhvoice.ru/ru-voices/) и установить.
Затем проверяем, какие голоса доступны:

```
python ./list-voices.py
```

Смотрим, какой по порядку в списке нужный голос (перед характеристиками отображается номер) и меняем номер в 48-ой строке файла `main.py`.

### Микрофон

Теперь выбираем микрофон. Убедитесь, что ваш микрофон подключен и работает и посмотрите все доступные микрофоны:

```
python ./list-microphones.py
```

Меняете в 45-ой строке файла `main.py` номер на нужный

### Погода

Чтобы ассистент говорил погоду, вам нужно получить свой API-ключ с сайта [OpenWeatherMap](https://openweathermap.org/). Нужно зарегистрироваться, перейти во вкладку API и выбрать бесплатный тариф.

Полученный ключ указываем в 16 строчке вместо `your_api_key`

### Старт на Windows

Теперь можно запускать:

```
python ./main.py
```

## Linux

### Отличия от Windows-версии

- У меня не получилось заставить RHVoice на линуксе, так что довольствуемся голосом из Google переводчика.
- Роботом из-под Linux управлять нельзя
- Работает немного медленнее из-за того, что для синтеза речи требуется интернет
- Не нужно отдельно устанавливать PyAudio

Устанавливаем зависимости:

```
pip install -r ./linux/requirements.txt
```

### Другие элементы

Настройка [погоды](#погода) и [выбор-микроофона](#микрофон) осуществляется как в винде (ссылки активны).

### Старт на Linux

```
python ./linux/main.py
```

## macOS

Нет возможности протестировать. Но есть мысли:

- PyAudio должен установиться нормально
- Роботом скорее всего тоже управлять нельзя (только если `.exe`-файлы как-то через эмулятор поднимать)

Вывод: попробуйте установку для Linux.

---

# Проблемы

Привозникновении проблем пишите в [раздел Issues](https://github.com/coder8080/gvido/issues)
